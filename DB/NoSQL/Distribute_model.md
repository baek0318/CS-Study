# 분산 모델

### NoSQL과 분산 모델
- 수평확장과 수직확장  
웹이 부흥하고 데이터의 크기가 계속해서 증가함에 따라서  
많은 양의 데이터를 저장하기 위해서 저장소의 크기를 키울 수 밖에 없게 되었다  
하지만 하드웨어를 업그레이드를 하는 `수직확장`은 성능 향상에 비해 비용이 많이 든다  
그래서 클러스터를 이용해 `수평확장`을 하는 경우에는 비교적 싼 가격에 많은 양의 데이터를 처리할 수 있게 되었다  
- 클러스터에서 NoSQL이 좋은 이유  
클러스터에서 데이터를 저장하기에는 집합을 자연스러운 단위로 사용할 수 있다고 한다  
그리고 NoSQL은 그래프 데이터베이스를 제외하고는 집합 모델을 사용한다  
그래서 클러스터를 많이 사용해서 구축하는 요즘 트랜드에 NoSQL이 적합한 경우가 많아지고 있다  
- 단점  
  클러스터에서 사용할수록 복잡성이 증가한다 

## 단일 모델
단일 모델은 가장 단순한 분산 방법이다  
왜냐하면 아예 분산을 사용하지 않기 때문이다..😅  
그러므로 거기에 따라 발생하는 비용이 없기 때문에 쉽게 사용할 수 있다  
결과적으로는..  
데이터를 분산하지 않고 처리할 수 있다면 항상 단일 서버 방식을 선택하는 것이 좋다  

## 샤딩 (sharding)
- `필요한 상황`  
  사람들이 서로 다른 데이터 집합에 접근을 계속해서 하는 경우
- `샤딩이란`  
  데이터의 다른 부분을 다른 서버에 두어 수평 확장할 수 있는 기법을 이야기한다
- `고려사항`  
  데이터를 각 노드마다 잘 배치해서 최적의 접근성을 제공해야한다  
  - `문제사항`
    1. 데이터를 어떻게 뭉쳐야지 한 사용자가 한 서버로부터 자원을 얻을 수 있을까
    2. 부하를 균등하게 각 노드마다 배부하는 방법

과거에는 애플리케이션 로직으로 샤딩을 관리하였다  
하지만 그럴 경우에는 모델이 복잡해지므로 사용하기가 쉽지 않게된다  
최근에는 샤딩 로직을 데이터베이스에서 모두 관리를 해준다
그러므로 사용하기가 더 쉬워졌다  

- `장점`
  - 읽기 성능을 향상 시킬 수 있다
- `단점`
  - 복원력은 거의 개선되지 않는다(샤딩만 단독으로 사용할 경우)
  

## 복제 (replication)