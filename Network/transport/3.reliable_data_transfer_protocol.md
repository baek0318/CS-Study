# 신뢰적인 데이터 전달 프로토콜의 구축
>Author: 백승화  
>Created: 2021년 10월 1일  
>Tags: `rdt`

### rdt란
- `reliable data transfer`의 약자로써 신뢰적 데이터 전송을 뜻한다  
- `가정` : 모든 데이터는 보내어진 순서대로 전달될것이라는 가정

## rdt1.0
### rdt1.0이란
완벽하게 신뢰적인 채널 상에서의 신뢰적인 데이터 전송을 이야기한다

**완벽하게 신뢰적인 채널이란**  
보내는 도중에 비트오류나 패킷손실이 존재하지 않는 채널을 이야기한다

## rdt2.0
### rdt2.0이란
비트 오류가 있는 채널 상에서의 신뢰적 데이터 전송을 이야기한다

**비트 오류가 존재하는 채널이란**  
보내는 도중에 데이터 내부가 망가질 수 있는 채널을 이야기한다

### 비트 오류를 해결하기 위해 rdt2.0에서 구현한 기능
1. 오류검출
    - 비트 오류가 발생했을 때 수신자가 확인할 수 있는 방법이 필요하다 ➡️ 체크섬 필드
2. 수신자 피드백
   - 수신자가 제대로 데이터를 받았다면 `ACK` 응답을 보낸다  
    - 수신자가 제대로 데이터를 받지 못했다면 `NAK` 응답을 보낸다
3. 재전송
    - 오류가 있는 패킷이였다면 송신자가 재전송한다
    
### rdt2.0의 문제점
ACK, NAK 패킷에 오류가 있을거라는 가정을 하지 않는다

**문제점 해결방법**
- 왜곡된 ACK, NAK를 받은 경우에는 현제 데이터를 재전송하는 것이다

**재전송의 문제점**
- 중복 패킷이 발생할 수 있는데 정확히 어디의 중복인지 알기가 어렵다

**중복 패킷의 해결방법**
- 패킷마다 순서번호를 매김으로 어디 데이터 중복인지 체크할 수 있다


## rdt3.0
### rdt3.0이란
비트 오류와 손실 있는 채널 상에서의 신뢰적 데이터 전송을 이야기한다

**비트 오류와 손실이 있는 채널이란**  
보내는 도중에 비트오류나 패킷 손실이 존재하는 채널을 이야기한다

### 패킷 손실을 해결하기 위한 방법
- 카운트다운 타이머를 사용한다

**타이머의 동작원리**
1. 매 패킷마다 타이머를 시작한다
2. 타이머가 시간이 다되거나 도중에 알맞은 데이터가 올때 적당한 행동을 취한다
3. 타이머를 멈춘다

### rdt3.0의 문제점
전송 후 ACK, NAK 패킷을 받기 전까지 대기한다는 것이다 ➡️ 블록킹이 된다