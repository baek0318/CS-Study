# HTTP

>Author: 백승화  
>Created: 2021년 10월 20일 오후 4:23  
>Tags: `HTTP`, `TCP`, `Web`

Web상에서 사용하는 애플리케이션 계층 프로토콜이며 상태를 가지지 않는 무상태 프로토콜으로 볼 수 있다

무상태(stateless) : 상태가 없다는 이야기인데 그 말은 HTTP는 전에 자신이 무엇을 했고 무엇을 받았는 지에 대한 정보를 전혀 가지고 있지 않는다는 것이다

트랜스포트 계층의 TCP를 사용한다 80번 포트를 이용한다

### 비지속 연결

HTTP 요청을 한번 보내고 그에대한 응답을 받은 다음 바로 연결을 끊어버린다

- 단점
    - 연결을 매번 성립해야하기 때문에 비용이 많이 든다

### 지속 연결

HTTP 1.0+ 부터 적용된 Keep-Alive 헤더와, Connection(HTTP1.1에서 사라짐) 헤더로 인해서

HTTP를 가지고 지속연결을 할 수 있게 되었다

그래서 TCP 연결을 끊지 않으므로 3 way handshake, 4 way handshake를 할떄의 비용이 추가적으로 발생하지 않는다

### 버전 별 차이

## HTTP 메소드

### **GET**

요청하는 데이터가 Header 부분의 URL에 담겨서 파라미터 값으로 전달이 된다

URL에 담아서 보내는 것이기 때문에 전송할 수 있는 데이터의 크기가 제한적이다

데이터가 URL에 그대로 노출되기 때문에 중요한 정보를 담는다면 적절하지 않을 수 도 있다

- **조건부 GET**

  GET 메소드의 특징으로는 웹 캐시에 캐싱이 가능하다는 것인데

  여기서 발생할 수 있는 문제점은 캐시가 가지고 있는 데이터가 더 이상 최신 데이터가 아닌 경우에 어떻게 하냐는 것이다

  그래서 조건부 GET이라는 것이 존재하며 이 메소드의 헤더에는 If-modified-since 가 들어간다

  해당 헤더에 작성된 날짜보다 같거나 최신인 경우에만 데이터를 보내라는 헤더이다

  그러므로 캐시는 Last-modified와 비교하여 일치하다면 캐시값을 아니라면 서버로 간다


### **POST**

요청하는 데이터가 HTTP 메세지에 바디 부분에 담겨져서 전송된다

데이터의 크기가 GET방식보다 크고 보안면에서 낫다고 볼 수 있지만 암호화를 하지 않는다면 비슷하다

멱등성이 존재하지 않으므로 똑같은 요청을 보내도 다른 요청으로 인식을 해서 새로운 리소스를 생성 한다

### **GET vs POST**

- GET은 서버에서 데이터를 가져오는 역할
- POST는 서버의 값이나 상태를 추가하기 위해서 사용
- GET방식은 캐싱기능 가능
- POST는 캐싱 불가능