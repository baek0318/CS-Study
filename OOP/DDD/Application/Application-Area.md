# Application Area

Domain영역을 다 만들었다고 끝나는 것이 아니다

만든 Domain영역을 표현영역으로 가공해서 전달할려면 중간에 다리역할하는 것이 필요한데 그 역할을 하는 것이 application 계층이다

그리고 표현영역에서 요청을 받았다면 표현 영역에서 자신이 필요한 응용 서비스 부분을 호출하고 응용서비스는 알맞은 애그리거트를 호출해서 처리를 한 다음 결과값을 반환한다

### 왜 애플리케이션 계층이냐

응용서비스를 제공하는 계층이기 때문에 애플리케이션 계층 혹은 서비스 계층이라고 부른다

## 애플리케이션 계층을 구현하는 방법

### 하나의 클래스에 모든 기능을 다 집어 넣는다

**장점**

- 하나에 작성하니깐 코드 중복을 해결할 수 있다

**단점**

- 관련없는 코드와 의존성이 뒤섞임으로써 코드를 이해하는데 방해가 됨

### 기능별로 클래스를 분리해서 작성을 한다

**장점**

- 각 클래스에는 필요한 기능과 의존성만 가지고 있어서 코드 이해가 쉬움

**단점**

- 클래스 파일이 많아지는 문제점이 발생함
- 공통 로직을 제거하는 헬퍼 클래스를 만들어야 함

---

### 인터페이스

애플리케이션 계층 같은 경우에는 여러개의 구현체를 가지거나 런타임에 결정해줘야하는 경우가 없기 때문에 보통은 인터페이스를 생성하지 않는다

## 응용 서비스 메서드 파라미터, 반환 값

### **메서드 파라미터**

메서드 파라미터로 dto를 만들것인지 만들지 않을 것인지에 대해서 고민을 했었는데

책에서는 메서드로 넘겨줘야할 **인자값이 많으면 dto를 생성**해서 넘겨주는 것이 좋고

**인자값이 적다면 그냥 인자값 그대로** 파라미터로 사용해도 된다고 이야기하고 있다

### 반환 값

반환 값도 마찬가지로

반환해야할 값이 많다면 dto를 생성해서 넘겨주는 것이 좋다

반환해야할 값이 적다면 해당 데이터만 넘겨주는 것이 좋다

❗️ **주의**

애그리거트를 그대로 넘겨주는 상황이 발생할 수 도 있는데 이런 경우는 최대한 하지 않는 것이 좋다

왜냐하면 표현 계층에서 함부로 애그리거트를 수정하거나 하는 메서드를 호출하게 되는데 이런 경우 실행 로직이 분산되기 때문에 바람직하지 않다

---

### 표현 영역에 의존하지 않기

표현 영역에 의존하지 않기라는 것은 표현 영역에서 사용하는 HttpServletRequest나 HttpSession 이런 객체들을 애플리케이션 영역으로 가져와서 처리하지 말자는 것이다

왜냐하면

1. 표현영역의 부분이 애플리케이션 영역에 존재한다면 애플리케이션 영역만 따로 테스트를 하기가 쉽지 않기 때문이다
2. 애플리케이션 영역이 표현 영역의 역할까지 대신 할 수 도 있기 때문이다